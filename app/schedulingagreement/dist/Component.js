sap.ui.define(["sap/ui/core/UIComponent","sap/m/MessageBox","sap/ui/model/odata/ODataModel","sap/ui/core/routing/HashChanger","sap/fiori/schedulingagreement/model/models","sap/fiori/schedulingagreement/controller/formatter"],function(e,a,t,r,s){"use strict";return e.extend("sap.fiori.schedulingagreement.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);var i=window.location.href.includes("site")?"/":"";var o=jQuery.sap.getModulePath("sap/fiori/schedulingagreement");o=o==="."?"":o;var n=o+i+this.getMetadata().getManifestEntry("sap.app").dataSources.mainService.uri;var d=new t(n,true);d.attachMetadataFailed(e=>{var t=e.getParameter("response").body;if(t.indexOf("<?xml")!==-1){a.error($($.parseXML(t)).find("message").text())}else{a.error(t)}});d.attachMetadataLoaded(()=>{this.setModel(d);sap.ui.getCore().setModel(d,"oDataModel");d.setDefaultCountMode("None");var e=new sap.ui.model.json.JSONModel;sap.ui.getCore().setModel(e,"pItemModel");this.setModel(s.createDeviceModel(),"device")});d.attachRequestFailed(e=>{var t=e.getParameter("responseText");if(t.indexOf("<?xml")!==-1){a.error($($.parseXML(t)).find("message").text())}else{a.error(JSON.parse(t).error.message.value)}});r.getInstance().replaceHash("");this.getRouter().initialize()}})});